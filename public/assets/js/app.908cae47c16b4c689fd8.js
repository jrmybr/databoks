webpackJsonp([1],{117:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o="localhost:8000/api/"},118:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"hello"},[e("form",{on:{submit:function(n){t.onSubmit(t.email,t.password)}}},[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(n){n.target.composing||(t.email=n.target.value)}}})]),t._v(" "),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(n){n.target.composing||(t.password=n.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right"},[t._v("\n      Sign in\n    ")])])])},r=[],a={render:o,staticRenderFns:r};n.a=a},119:function(t,n,e){"use strict";var o=e(15),r=e(120),a=e(121),i=e.n(a),s=e(122);o.a.use(r.a),n.a=new r.a.Store({modules:{home:i.a,auth:s.a}})},121:function(t,n){},122:function(t,n,e){"use strict";var o,r,a=e(123),i=e.n(a),s=e(26),u=e.n(s),c=e(24),l=e(50),f=e(51),d=e(127),m={errors:null,user:{},isAuthenticated:!!l.a.getToken()},p={currentUser:function(t){return t.user},isAuthenticated:function(t){return t.isAuthenticated}},v=(o={},i()(o,f.b,function(t,n){return console.log(n),new u.a(function(e){c.a.post("users/login",{user:n}).then(function(n){var o=n.data;console.log({data:o}),t.commit(d.b,o.user),e(o)}).catch(function(n){var e=n.response;t.commit(d.c,e.data.errors)})})}),i()(o,f.c,function(t){t.commit(d.a)}),i()(o,f.d,function(t,n){return new u.a(function(e,o){c.a.post("users",{user:n}).then(function(n){var o=n.data;t.commit(d.b,o.user),e(o)}).catch(function(n){var e=n.response;t.commit(d.c,e.data.errors)})})}),i()(o,f.a,function(t){l.a.getToken()?(c.a.setHeader(),c.a.get("user").then(function(n){var e=n.data;t.commit(d.b,e.user)}).catch(function(n){var e=n.response;t.commit(d.c,e.data.errors)})):t.commit(d.a)}),i()(o,f.e,function(t,n){var e=n.email,o=n.username,r=n.password,a=n.image,i=n.bio,s={email:e,username:o,bio:i,image:a};return r&&(s.password=r),c.a.put("user",s).then(function(n){var e=n.data;return t.commit(d.b,e.user),e})}),o),g=(r={},i()(r,d.c,function(t,n){t.errors=n}),i()(r,d.b,function(t,n){t.isAuthenticated=!0,t.user=n,t.errors={},l.a.saveToken(t.user.token)}),i()(r,d.a,function(t){t.isAuthenticated=!1,t.user={},t.errors={},l.a.destroyToken()}),r);n.a={state:m,actions:v,mutations:g,getters:p}},127:function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r}),e.d(n,"c",function(){return a});var o="logOut",r="setUser",a="setError"},24:function(t,n,e){"use strict";var o=e(15),r=e(97),a=e.n(r),i=e(116),s=e.n(i),u=e(50),c=e(117),l={init:function(){o.a.use(s.a,a.a),o.a.axios.defaults.baseURL=c.a},setHeader:function(){o.a.axios.defaults.headers.common.Authorization="Token "+u.a.getToken()},query:function(t,n){return o.a.axios.get(t,n).catch(function(t){throw new Error("[RWV] ApiService "+t)})},get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.axios.get(t+"/"+n).catch(function(t){throw new Error("[RWV] ApiService "+t)})},post:function(t,n){return o.a.axios.post(""+t,n)},update:function(t,n,e){return o.a.axios.put(t+"/"+n,e)},put:function(t,n){return o.a.axios.put(""+t,n)},delete:function(t){return o.a.axios.delete(t).catch(function(t){throw new Error("[RWV] ApiService "+t)})}};n.a=l},43:function(t,n,e){"use strict";n.a={name:"App"}},44:function(t,n,e){"use strict";var o=e(24);n.a={name:"hello",data:function(){return{email:null,password:null}},methods:{onSubmit:function(t,n){console.log(t,n),o.a.post("users/login",{user:{email:t,password:n}}).then(function(t){console.log(t)})}}}},50:function(t,n,e){"use strict";n.a={getToken:function(){return window.localStorage.getItem("id_token")},saveToken:function(t){window.localStorage.setItem("id_token",t)},destroyToken:function(){window.localStorage.removeItem("id_token")}}},51:function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return i}),e.d(n,"e",function(){return s});var o="checkAuth",r="login",a="logout",i="register",s="updateUser"},52:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(26),r=e.n(o),a=e(15),i=e(89),s=e(93),u=e(119),c=e(51),l=e(24);a.a.config.productionTip=!1,l.a.init(),s.a.beforeEach(function(t,n,e){return r.a.all([u.a.dispatch(c.a)]).then(e)}),new a.a({el:"#app",router:s.a,store:u.a,template:"<App/>",components:{App:i.a}})},89:function(t,n,e){"use strict";function o(t){e(90)}var r=e(43),a=e(92),i=e(42),s=o,u=i(r.a,a.a,!1,s,null,null);n.a=u.exports},90:function(t,n){},92:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],a={render:o,staticRenderFns:r};n.a=a},93:function(t,n,e){"use strict";var o=e(15),r=e(94),a=e(95);o.a.use(r.a),n.a=new r.a({routes:[{path:"/",name:"Hello",component:a.a}]})},95:function(t,n,e){"use strict";function o(t){e(96)}var r=e(44),a=e(118),i=e(42),s=o,u=i(r.a,a.a,!1,s,null,null);n.a=u.exports},96:function(t,n){}},[52]);
//# sourceMappingURL=app.908cae47c16b4c689fd8.js.map